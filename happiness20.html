<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>World Happiness Report,2020</title>

<script src="site_libs/header-attrs-2.3/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  { color: #cccccc; background-color: #303030; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffcfaf; } /* Alert */
code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #dca3a3; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #f0dfaf; } /* ControlFlow */
code span.ch { color: #dca3a3; } /* Char */
code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code span.co { color: #7f9f7f; } /* Comment */
code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code span.do { color: #7f9f7f; } /* Documentation */
code span.dt { color: #dfdfbf; } /* DataType */
code span.dv { color: #dcdccc; } /* DecVal */
code span.er { color: #c3bf9f; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #c0bed1; } /* Float */
code span.fu { color: #efef8f; } /* Function */
code span.im { } /* Import */
code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
code span.kw { color: #f0dfaf; } /* Keyword */
code span.op { color: #f0efd0; } /* Operator */
code span.ot { color: #efef8f; } /* Other */
code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code span.sc { color: #dca3a3; } /* SpecialChar */
code span.ss { color: #cc9393; } /* SpecialString */
code span.st { color: #cc9393; } /* String */
code span.va { } /* Variable */
code span.vs { color: #cc9393; } /* VerbatimString */
code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">JOAN WERU</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-pie-chart"></span>
     
    Data Visualization
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="happiness20.html">Happiness Report,2020</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-cogs"></span>
     
    Machine Learning
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="advertising.html">Predicting Sales Using Advertising Budgets</a>
    </li>
    <li>
      <a href="churnproject.html">Predicting Credit Card Cancellations</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="cv.html">
    <span class="fa fa-file-pdf-o"></span>
     
    CV
  </a>
</li>
<li>
  <a href="https://github.com/joanweru">
    <span class="fa fa-github"></span>
     
    GitHub
  </a>
</li>
<li>
  <a href="https://www.linkedin.com./in/joan-weru-6b601b1b7">
    <span class="fa fa-linkedin-square"></span>
     
    Linkedin
  </a>
</li>
<li>
  <a href="mailto:joanweru77@gmail.com">
    <span class="fa fa-envelope-o"></span>
     
    Contact me
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">World Happiness Report,2020</h1>

</div>


<div id="about-the-report" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> About the Report</h1>
<p>The <a href="https://worldhappiness.report/ed/2020/">world happiness report</a> is an annual publication of the United Nations Sustainable Development Solutions Network. It contains articles and rankings of national happiness based on respondent ratings of their own lives, which the report also correlates with various life factors. The happiness rankings are based on individuals own assessments of their lives as revealed by their own answers to the <a href="https://news.gallup.com/poll/122453/understanding-gallup-uses-cantril-scale.aspx">Cantril ladder question</a> that invites survey participants to imagine their current position on a ladder with steps numbered from 0 to 10, where the top represents the best possible and the bottom the worst possible life for themselves.</p>
<p>NB: The happiness rankings are not based on an index of the six variables <code>GDP per capita</code> , <code>social support</code>, <code>health life expectancy</code>, <code>freedom</code>, <code>generosity</code> and <code>perceptions of corruption</code> . The variables however explain the variation of happiness across countries and also show how measures of well being are themselves affected by the six life factors.</p>
<div id="goal-of-this-report" class="section level2" number="1.1">
<h2 number="1.1"><span class="header-section-number">1.1</span> Goal of this Report</h2>
<p>Use data visualization to unearth key insights that could help decision makers in improving the quality of life in their countries.</p>
</div>
</div>
<div id="importing-the-data" class="section level1" number="2">
<h1 number="2"><span class="header-section-number">2</span> Importing the Data</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">library</span>(countrycode)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="kw">library</span>(ggthemes)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="kw">library</span>(ggpubr)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="kw">library</span>(ggflags)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>happiness20&lt;-<span class="kw">read_csv</span>(<span class="st">&quot;happiness20.csv&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>rmarkdown<span class="op">::</span><span class="kw">paged_table</span>(happiness20)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Country name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Ladder score"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Logged GDP per capita"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Social support"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Healthy life expectancy"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Freedom to make life choices"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Generosity"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Perceptions of corruption"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"Finland","2":"7.8087","3":"10.639267","4":"0.9543297","5":"71.90083","6":"0.9491722","7":"-0.059482019","8":"0.1954446"},{"1":"Denmark","2":"7.6456","3":"10.774001","4":"0.9559908","5":"72.40250","6":"0.9514443","7":"0.066201776","8":"0.1684895"},{"1":"Switzerland","2":"7.5599","3":"10.979933","4":"0.9428466","5":"74.10245","6":"0.9213367","7":"0.105911039","8":"0.3037284"},{"1":"Iceland","2":"7.5045","3":"10.772559","4":"0.9746696","5":"73.00000","6":"0.9488919","7":"0.246944219","8":"0.7117097"},{"1":"Norway","2":"7.4880","3":"11.087804","4":"0.9524866","5":"73.20078","6":"0.9557503","7":"0.134532630","8":"0.2632182"},{"1":"Netherlands","2":"7.4489","3":"10.812712","4":"0.9391388","5":"72.30092","6":"0.9085478","7":"0.207612440","8":"0.3647171"},{"1":"Sweden","2":"7.3535","3":"10.758794","4":"0.9263112","5":"72.60077","6":"0.9391442","7":"0.111614622","8":"0.2508802"},{"1":"New Zealand","2":"7.2996","3":"10.500943","4":"0.9491190","5":"73.20263","6":"0.9362175","7":"0.191598073","8":"0.2211388"},{"1":"Austria","2":"7.2942","3":"10.742824","4":"0.9280459","5":"73.00250","6":"0.8999895","7":"0.085429221","8":"0.4999549"},{"1":"Luxembourg","2":"7.2375","3":"11.450681","4":"0.9069122","5":"72.60000","6":"0.9056364","7":"-0.004620588","8":"0.3670843"},{"1":"Canada","2":"7.2321","3":"10.692369","4":"0.9271767","5":"73.60160","6":"0.9339132","7":"0.124770768","8":"0.3908434"},{"1":"Australia","2":"7.2228","3":"10.720596","4":"0.9448546","5":"73.60454","6":"0.9154317","7":"0.190460160","8":"0.4151691"},{"1":"United Kingdom","2":"7.1645","3":"10.600135","4":"0.9366828","5":"72.30161","6":"0.8347437","7":"0.263732493","8":"0.4359159"},{"1":"Israel","2":"7.1286","3":"10.417525","4":"0.9135712","5":"73.20026","6":"0.7475806","7":"0.102593720","8":"0.7808551"},{"1":"Costa Rica","2":"7.1214","3":"9.658156","4":"0.9015459","5":"71.29985","6":"0.9347389","7":"-0.102429710","8":"0.7863324"},{"1":"Ireland","2":"7.0937","3":"11.160978","4":"0.9420816","5":"72.30079","6":"0.8869830","7":"0.145784974","8":"0.3571842"},{"1":"Germany","2":"7.0758","3":"10.732819","4":"0.8988745","5":"72.20202","6":"0.8673711","7":"0.080179386","8":"0.4564220"},{"1":"United States","2":"6.9396","3":"10.925769","4":"0.9142190","5":"68.29950","6":"0.8426195","7":"0.149891734","8":"0.6997153"},{"1":"Czech Republic","2":"6.9109","3":"10.404163","4":"0.9144307","5":"70.04794","6":"0.8185374","7":"-0.230861515","8":"0.8584462"},{"1":"Belgium","2":"6.8635","3":"10.673639","4":"0.9116325","5":"72.00165","6":"0.8135821","7":"-0.078691199","8":"0.6122980"},{"1":"United Arab Emirates","2":"6.7908","3":"11.109999","4":"0.8491811","5":"67.08279","6":"0.9413455","7":"0.123450845","8":"0.5945022"},{"1":"Malta","2":"6.7728","3":"10.533838","4":"0.9303795","5":"72.20000","6":"0.9249114","7":"0.214965805","8":"0.6585473"},{"1":"France","2":"6.6638","3":"10.584223","4":"0.9371037","5":"73.80193","6":"0.8254676","7":"-0.130641967","8":"0.5835211"},{"1":"Mexico","2":"6.4650","3":"9.797797","4":"0.8386654","5":"68.29903","6":"0.8587093","7":"-0.175266623","8":"0.8068216"},{"1":"Taiwan Province of China","2":"6.4554","3":"10.775685","4":"0.8943091","5":"69.60000","6":"0.7715303","7":"-0.073198698","8":"0.7318829"},{"1":"Uruguay","2":"6.4401","3":"9.948193","4":"0.9228113","5":"69.00255","6":"0.8923954","7":"-0.101103112","8":"0.6359941"},{"1":"Saudi Arabia","2":"6.4065","3":"10.797812","4":"0.8740671","5":"66.30515","6":"0.8541912","7":"-0.168695062","8":"0.6826195"},{"1":"Spain","2":"6.4009","3":"10.462927","4":"0.9211254","5":"74.40271","6":"0.7519895","7":"-0.050961714","8":"0.7658599"},{"1":"Guatemala","2":"6.3989","3":"8.924806","4":"0.8166215","5":"64.80894","6":"0.9081476","7":"-0.042938665","8":"0.7832375"},{"1":"Italy","2":"6.3874","3":"10.481836","4":"0.8898786","5":"73.60168","6":"0.6646520","7":"-0.043460999","8":"0.8734047"},{"1":"Singapore","2":"6.3771","3":"11.395521","4":"0.9102690","5":"76.80458","6":"0.9266453","7":"0.029879224","8":"0.1097842"},{"1":"Brazil","2":"6.3756","3":"9.566435","4":"0.8967238","5":"66.48016","6":"0.7998048","7":"-0.101812392","8":"0.7706013"},{"1":"Slovenia","2":"6.3634","3":"10.392323","4":"0.9395757","5":"71.10299","6":"0.9361426","7":"-0.080603383","8":"0.8170710"},{"1":"El Salvador","2":"6.3483","3":"8.909076","4":"0.8060923","5":"66.10826","6":"0.8338053","7":"-0.121072978","8":"0.7543199"},{"1":"Kosovo","2":"6.3252","3":"9.204430","4":"0.8207265","5":"63.88556","6":"0.8615359","7":"0.190933764","8":"0.9223283"},{"1":"Panama","2":"6.3048","3":"10.034234","4":"0.9020945","5":"69.60301","6":"0.8803665","7":"-0.153927714","8":"0.8515889"},{"1":"Slovakia","2":"6.2806","3":"10.347750","4":"0.9224938","5":"68.90634","6":"0.7499527","7":"-0.124409303","8":"0.9180961"},{"1":"Uzbekistan","2":"6.2576","3":"8.740372","4":"0.9265958","5":"65.10757","6":"0.9749981","7":"0.248427153","8":"0.5014974"},{"1":"Chile","2":"6.2285","3":"10.032055","4":"0.8797136","5":"69.90062","6":"0.7448963","7":"-0.065668367","8":"0.8382394"},{"1":"Bahrain","2":"6.2273","3":"10.676380","4":"0.8763421","5":"68.50000","6":"0.9058558","7":"0.133729190","8":"0.7393471"},{"1":"Lithuania","2":"6.2155","3":"10.343626","4":"0.9261071","5":"67.29408","6":"0.7473814","7":"-0.219725296","8":"0.8095838"},{"1":"Trinidad and Tobago","2":"6.1919","3":"10.260002","4":"0.9152942","5":"63.50000","6":"0.8579071","7":"0.000526841","8":"0.9122306"},{"1":"Poland","2":"6.1863","3":"10.265124","4":"0.8742574","5":"69.31113","6":"0.8620558","7":"-0.205084071","8":"0.6869270"},{"1":"Colombia","2":"6.1634","3":"9.500369","4":"0.8844402","5":"67.69958","6":"0.8361799","7":"-0.161235645","8":"0.8645718"},{"1":"Cyprus","2":"6.1590","3":"10.405703","4":"0.8059962","5":"73.70222","6":"0.7798583","7":"0.043731496","8":"0.8562717"},{"1":"Nicaragua","2":"6.1371","3":"8.493160","4":"0.8574970","5":"67.50718","6":"0.8639029","7":"0.020959141","8":"0.6659501"},{"1":"Romania","2":"6.1237","3":"10.107584","4":"0.8251615","5":"67.20724","6":"0.8428232","7":"-0.197815210","8":"0.9343002"},{"1":"Kuwait","2":"6.1021","3":"11.089825","4":"0.8464752","5":"66.76765","6":"0.8723665","7":"-0.100184701","8":"0.7608491"},{"1":"Mauritius","2":"6.1013","3":"9.956786","4":"0.9103578","5":"66.40434","6":"0.8895345","7":"-0.018318573","8":"0.8053431"},{"1":"Kazakhstan","2":"6.0579","3":"10.114658","4":"0.9347449","5":"64.60996","6":"0.8116019","7":"-0.068488635","8":"0.7644908"},{"1":"Estonia","2":"6.0218","3":"10.340017","4":"0.9347300","5":"68.60496","6":"0.8777092","7":"-0.111697771","8":"0.6230738"},{"1":"Philippines","2":"6.0060","3":"8.993546","4":"0.8467301","5":"61.92676","6":"0.9154634","7":"-0.105463006","8":"0.7336341"},{"1":"Hungary","2":"6.0004","3":"10.249244","4":"0.9219341","5":"67.60997","6":"0.7189646","7":"-0.194323018","8":"0.8929165"},{"1":"Thailand","2":"5.9988","3":"9.741792","4":"0.8899732","5":"67.25060","6":"0.9050630","7":"0.268685192","8":"0.8862723"},{"1":"Argentina","2":"5.9747","3":"9.810955","4":"0.9005679","5":"68.80380","6":"0.8311324","7":"-0.194913864","8":"0.8420098"},{"1":"Honduras","2":"5.9532","3":"8.424535","4":"0.8218701","5":"67.19877","6":"0.8706033","7":"0.086969115","8":"0.8011319"},{"1":"Latvia","2":"5.9500","3":"10.175320","4":"0.9182886","5":"66.80746","6":"0.6712376","7":"-0.186888844","8":"0.7955801"},{"1":"Ecuador","2":"5.9252","3":"9.246058","4":"0.8364190","5":"68.50004","6":"0.8598289","7":"-0.127014965","8":"0.8012151"},{"1":"Portugal","2":"5.9109","3":"10.263742","4":"0.8865907","5":"72.40202","6":"0.8887478","7":"-0.220714301","8":"0.8926295"},{"1":"Jamaica","2":"5.8898","3":"9.006250","4":"0.9157019","5":"67.10000","6":"0.8580685","7":"-0.125106767","8":"0.8888900"},{"1":"South Korea","2":"5.8724","3":"10.510567","4":"0.7993872","5":"73.60273","6":"0.6129651","7":"-0.043404032","8":"0.7890674"},{"1":"Japan","2":"5.8708","3":"10.579689","4":"0.8835459","5":"75.00097","6":"0.8099614","7":"-0.246910349","8":"0.6545581"},{"1":"Peru","2":"5.7968","3":"9.456313","4":"0.8310753","5":"68.10023","6":"0.8247661","7":"-0.162388220","8":"0.8937150"},{"1":"Serbia","2":"5.7782","3":"9.680981","4":"0.8814757","5":"68.21021","6":"0.7264959","7":"-0.073676221","8":"0.8435090"},{"1":"Bolivia","2":"5.7475","3":"8.851115","4":"0.8031087","5":"63.60047","6":"0.8758733","7":"-0.091681130","8":"0.8226062"},{"1":"Pakistan","2":"5.6933","3":"8.482727","4":"0.6890623","5":"58.25314","6":"0.7348337","7":"0.044899870","8":"0.7457054"},{"1":"Paraguay","2":"5.6921","3":"9.389982","4":"0.8987279","5":"65.63994","6":"0.8859234","7":"0.007997713","8":"0.8347885"},{"1":"Dominican Republic","2":"5.6892","3":"9.664881","4":"0.8820854","5":"65.80749","6":"0.8662028","7":"-0.131263286","8":"0.7559999"},{"1":"Bosnia and Herzegovina","2":"5.6741","3":"9.455817","4":"0.8292041","5":"67.80814","6":"0.6513527","7":"0.098274559","8":"0.9337691"},{"1":"Moldova","2":"5.6075","3":"8.776714","4":"0.8433136","5":"65.01302","6":"0.7216092","7":"-0.037741039","8":"0.9133143"},{"1":"Tajikistan","2":"5.5557","3":"8.024811","4":"0.8352971","5":"64.10459","6":"0.8313834","7":"-0.025088511","8":"0.5920761"},{"1":"Montenegro","2":"5.5461","3":"9.751861","4":"0.8553146","5":"68.50535","6":"0.6495656","7":"-0.075600356","8":"0.7831216"},{"1":"Russia","2":"5.5460","3":"10.128872","4":"0.9031507","5":"64.10046","6":"0.7298926","7":"-0.151153743","8":"0.8648026"},{"1":"Kyrgyzstan","2":"5.5415","3":"8.148405","4":"0.8872285","5":"64.10601","6":"0.9093749","7":"0.154772058","8":"0.8883961"},{"1":"Belarus","2":"5.5399","3":"9.779945","4":"0.9067475","5":"66.10433","6":"0.6391631","7":"-0.164926544","8":"0.6357117"},{"1":"North Cyprus","2":"5.5355","3":"10.405703","4":"0.8203566","5":"73.70222","6":"0.7952935","7":"0.000227159","8":"0.6261157"},{"1":"Greece","2":"5.5150","3":"10.132326","4":"0.8143803","5":"72.40526","6":"0.5413451","7":"-0.300907373","8":"0.8599314"},{"1":"Hong Kong S.A.R. of China","2":"5.5104","3":"10.934671","4":"0.8459691","5":"76.77171","6":"0.7798338","7":"0.134979904","8":"0.4206072"},{"1":"Croatia","2":"5.5047","3":"10.070875","4":"0.8746237","5":"70.21490","6":"0.7148388","7":"-0.128538325","8":"0.9164953"},{"1":"Libya","2":"5.4888","3":"9.789816","4":"0.8259429","5":"62.30000","6":"0.7731570","7":"-0.085054487","8":"0.6687791"},{"1":"Mongolia","2":"5.4562","3":"9.412187","4":"0.9371425","5":"62.30449","6":"0.6933513","7":"0.098093867","8":"0.8635112"},{"1":"Malaysia","2":"5.3843","3":"10.262519","4":"0.8165094","5":"67.10216","6":"0.8946269","7":"0.114726797","8":"0.8393023"},{"1":"Vietnam","2":"5.3535","3":"8.809546","4":"0.8499871","5":"67.95274","6":"0.9395930","7":"-0.094533332","8":"0.7964212"},{"1":"Indonesia","2":"5.2856","3":"9.369752","4":"0.8083799","5":"62.15585","6":"0.8706144","7":"0.519586504","8":"0.8762964"},{"1":"Ivory Coast","2":"5.2333","3":"8.225561","4":"0.6580487","5":"49.50377","6":"0.7279093","7":"-0.043991156","8":"0.7907720"},{"1":"Benin","2":"5.2160","3":"7.674320","4":"0.4686711","5":"54.31247","6":"0.7351826","7":"-0.003537213","8":"0.7405326"},{"1":"Maldives","2":"5.1976","3":"9.518633","4":"0.9131609","5":"70.60000","6":"0.8539628","7":"0.038085498","8":"0.8242111"},{"1":"Congo (Brazzaville)","2":"5.1944","3":"8.536987","4":"0.6402281","5":"57.92448","6":"0.7190585","7":"-0.123674095","8":"0.7517791"},{"1":"Azerbaijan","2":"5.1648","3":"9.687727","4":"0.8193083","5":"65.50840","6":"0.7868241","7":"-0.240255281","8":"0.5525376"},{"1":"Macedonia","2":"5.1598","3":"9.510592","4":"0.8203923","5":"67.50443","6":"0.7388409","7":"-0.019877451","8":"0.8974905"},{"1":"Ghana","2":"5.1480","3":"8.350645","4":"0.7286011","5":"57.20399","6":"0.7947965","7":"0.094170853","8":"0.8479648"},{"1":"Nepal","2":"5.1372","3":"7.925357","4":"0.7855124","5":"63.77918","6":"0.7975650","7":"0.154168829","8":"0.7380992"},{"1":"Turkey","2":"5.1318","3":"10.129419","4":"0.8263136","5":"66.90282","6":"0.6088305","7":"-0.171046436","8":"0.7481974"},{"1":"China","2":"5.1239","3":"9.688568","4":"0.7987606","5":"69.28919","6":"0.8985179","7":"-0.181425750","8":"0.7539711"},{"1":"Turkmenistan","2":"5.1191","3":"9.748033","4":"0.9589662","5":"62.21171","6":"0.8264570","7":"0.187671542","8":"0.8836918"},{"1":"Bulgaria","2":"5.1015","3":"9.869319","4":"0.9378403","5":"66.80398","6":"0.7451782","7":"-0.143908441","8":"0.9355851"},{"1":"Morocco","2":"5.0948","3":"8.940313","4":"0.5926285","5":"65.89624","6":"0.7720724","7":"-0.240377247","8":"0.8157246"},{"1":"Cameroon","2":"5.0849","3":"8.118648","4":"0.7003864","5":"52.70494","6":"0.7630518","7":"-0.001496450","8":"0.8513366"},{"1":"Venezuela","2":"5.0532","3":"8.977794","4":"0.8904082","5":"66.50534","6":"0.6232783","7":"-0.169090509","8":"0.8370384"},{"1":"Algeria","2":"5.0051","3":"9.537965","4":"0.8033851","5":"65.90517","6":"0.4666109","7":"-0.121105164","8":"0.7354851"},{"1":"Senegal","2":"4.9808","3":"8.118982","4":"0.7236160","5":"59.59915","6":"0.6905962","7":"-0.052335154","8":"0.8087851"},{"1":"Guinea","2":"4.9493","3":"7.750990","4":"0.6375735","5":"54.46780","6":"0.7068468","7":"0.076328471","8":"0.7617944"},{"1":"Niger","2":"4.9096","3":"6.842167","4":"0.6174350","5":"53.50010","6":"0.7597721","7":"0.013860817","8":"0.7225302"},{"1":"Laos","2":"4.8886","3":"8.798580","4":"0.7375022","5":"58.70992","6":"0.9072136","7":"0.111371480","8":"0.6346793"},{"1":"Albania","2":"4.8827","3":"9.417931","4":"0.6710705","5":"68.70814","6":"0.7819942","7":"-0.042309489","8":"0.8963037"},{"1":"Cambodia","2":"4.8484","3":"8.249890","4":"0.7730806","5":"61.52997","6":"0.9597046","7":"0.051911179","8":"0.8227690"},{"1":"Bangladesh","2":"4.8328","3":"8.287064","4":"0.6872930","5":"64.50307","6":"0.9006250","7":"-0.033664726","8":"0.6618435"},{"1":"Gabon","2":"4.8293","3":"9.680537","4":"0.7878869","5":"59.71534","6":"0.7048292","7":"-0.222261623","8":"0.8491510"},{"1":"South Africa","2":"4.8141","3":"9.403371","4":"0.8525323","5":"56.50601","6":"0.7593301","7":"-0.109777324","8":"0.8434238"},{"1":"Iraq","2":"4.7848","3":"9.661096","4":"0.7476950","5":"59.90355","6":"0.6331826","7":"-0.069564760","8":"0.8222618"},{"1":"Lebanon","2":"4.7715","3":"9.361724","4":"0.8243381","5":"67.10658","6":"0.5513575","7":"-0.061215270","8":"0.9022562"},{"1":"Burkina Faso","2":"4.7687","3":"7.468545","4":"0.7129436","5":"53.88945","6":"0.6655636","7":"-0.019080516","8":"0.7397950"},{"1":"Gambia","2":"4.7506","3":"7.321815","4":"0.6931687","5":"55.01202","6":"0.7331632","7":"0.343198717","8":"0.6907178"},{"1":"Mali","2":"4.7293","3":"7.629852","4":"0.7314690","5":"51.72698","6":"0.7115662","7":"-0.044366926","8":"0.8393284"},{"1":"Nigeria","2":"4.7241","3":"8.576625","4":"0.7372169","5":"49.86191","6":"0.7595784","7":"0.033745807","8":"0.8618743"},{"1":"Armenia","2":"4.6768","3":"9.100476","4":"0.7574794","5":"66.75066","6":"0.7120178","7":"-0.138779610","8":"0.7735448"},{"1":"Georgia","2":"4.6726","3":"9.226101","4":"0.6290330","5":"64.49521","6":"0.8016415","7":"-0.228920370","8":"0.6659447"},{"1":"Iran","2":"4.6724","3":"9.813720","4":"0.6946897","5":"66.00615","6":"0.6478733","7":"0.117891103","8":"0.7146360"},{"1":"Jordan","2":"4.6334","3":"9.025999","4":"0.8021637","5":"66.79975","6":"0.7510478","7":"-0.162565202","8":"0.7003443"},{"1":"Mozambique","2":"4.6236","3":"7.069346","4":"0.7238740","5":"54.20582","6":"0.8644519","7":"0.032375868","8":"0.6830191"},{"1":"Kenya","2":"4.5830","3":"8.029776","4":"0.7026520","5":"60.09693","6":"0.8297476","7":"0.294681519","8":"0.8314992"},{"1":"Namibia","2":"4.5711","3":"9.203141","4":"0.8468810","5":"56.50149","6":"0.7675210","7":"-0.185306460","8":"0.8514498"},{"1":"Ukraine","2":"4.5607","3":"9.010691","4":"0.8788794","5":"64.60678","6":"0.6630819","7":"-0.030933706","8":"0.9206367"},{"1":"Liberia","2":"4.5579","3":"7.054380","4":"0.7092806","5":"56.09631","6":"0.7352687","7":"0.042273220","8":"0.8563759"},{"1":"Palestinian Territories","2":"4.5528","3":"8.389223","4":"0.8252959","5":"62.25000","6":"0.6457918","7":"-0.162079096","8":"0.8242000"},{"1":"Uganda","2":"4.4320","3":"7.500390","4":"0.7649946","5":"55.70820","6":"0.7317140","7":"0.099487431","8":"0.8367378"},{"1":"Chad","2":"4.4227","3":"7.467964","4":"0.6323881","5":"48.22054","6":"0.5873052","7":"0.017834719","8":"0.8027608"},{"1":"Tunisia","2":"4.3922","3":"9.314973","4":"0.6887186","5":"66.89786","6":"0.5933616","7":"-0.216413811","8":"0.8675902"},{"1":"Mauritania","2":"4.3746","3":"8.233919","4":"0.7908192","5":"57.01018","6":"0.5515226","7":"-0.106008142","8":"0.7462235"},{"1":"Sri Lanka","2":"4.3270","3":"9.389970","4":"0.8253741","5":"67.20007","6":"0.8376337","7":"0.081129618","8":"0.8590018"},{"1":"Congo (Kinshasa)","2":"4.3110","3":"6.694256","4":"0.6721590","5":"52.90000","6":"0.7007936","7":"0.083637655","8":"0.8094036"},{"1":"Swaziland","2":"4.3081","3":"9.162674","4":"0.7702902","5":"51.18824","6":"0.6468223","7":"-0.199201420","8":"0.7082633"},{"1":"Myanmar","2":"4.3080","3":"8.680482","4":"0.7844070","5":"58.96171","6":"0.8950752","7":"0.560663998","8":"0.6451243"},{"1":"Comoros","2":"4.2886","3":"7.833630","4":"0.6256624","5":"57.34901","6":"0.5476126","7":"0.090008408","8":"0.7806226"},{"1":"Togo","2":"4.1872","3":"7.357711","4":"0.5513126","5":"54.71990","6":"0.6498286","7":"0.002667875","8":"0.7577335"},{"1":"Ethiopia","2":"4.1862","3":"7.509386","4":"0.7433074","5":"58.63959","6":"0.7407952","7":"0.043377332","8":"0.7536900"},{"1":"Madagascar","2":"4.1656","3":"7.281686","4":"0.6681959","5":"59.10543","6":"0.5575741","7":"-0.011823639","8":"0.8174856"},{"1":"Egypt","2":"4.1514","3":"9.316542","4":"0.7354478","5":"61.78015","6":"0.7083542","7":"-0.196878314","8":"0.7877269"},{"1":"Sierra Leone","2":"3.9264","3":"7.268803","4":"0.6361420","5":"50.86514","6":"0.7153150","7":"0.088660747","8":"0.8613307"},{"1":"Burundi","2":"3.7753","3":"6.492642","4":"0.4903257","5":"53.40000","6":"0.6263502","7":"-0.017551597","8":"0.6069345"},{"1":"Zambia","2":"3.7594","3":"8.224720","4":"0.6988245","5":"55.29938","6":"0.8065003","7":"0.078037128","8":"0.8012897"},{"1":"Haiti","2":"3.7208","3":"7.411329","4":"0.5932478","5":"55.59863","6":"0.5378252","7":"0.400534570","8":"0.6847672"},{"1":"Lesotho","2":"3.6528","3":"7.960488","4":"0.7804957","5":"48.00362","6":"0.7381259","7":"-0.145732045","8":"0.8573921"},{"1":"India","2":"3.5733","3":"8.849824","4":"0.5922009","5":"60.21519","6":"0.8814449","7":"0.057551607","8":"0.7720427"},{"1":"Malawi","2":"3.5380","3":"7.062226","4":"0.5440073","5":"57.59289","6":"0.8032232","7":"0.021433279","8":"0.7317008"},{"1":"Yemen","2":"3.5274","3":"7.759683","4":"0.8179806","5":"56.72728","6":"0.5999203","7":"-0.157735437","8":"0.8002877"},{"1":"Botswana","2":"3.4789","3":"9.711204","4":"0.7791218","5":"58.92445","6":"0.8213281","7":"-0.250394493","8":"0.7779309"},{"1":"Tanzania","2":"3.4762","3":"7.967665","4":"0.6889332","5":"57.49607","6":"0.8215398","7":"0.109668687","8":"0.6197994"},{"1":"Central African Republic","2":"3.4759","3":"6.625160","4":"0.3194599","5":"45.20000","6":"0.6408806","7":"0.082410358","8":"0.8918067"},{"1":"Rwanda","2":"3.3123","3":"7.600104","4":"0.5408354","5":"61.09885","6":"0.9005894","7":"0.055483952","8":"0.1835412"},{"1":"Zimbabwe","2":"3.2992","3":"7.865712","4":"0.7630928","5":"55.61726","6":"0.7114579","7":"-0.072063953","8":"0.8102370"},{"1":"South Sudan","2":"2.8166","3":"7.425360","4":"0.5537071","5":"51.00000","6":"0.4513136","7":"0.016518548","8":"0.7634173"},{"1":"Afghanistan","2":"2.5669","3":"7.462861","4":"0.4703670","5":"52.59000","6":"0.3965730","7":"-0.096429400","8":"0.9336866"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">attach</span>(happiness20)</span></code></pre></div>
</div>
<div id="visualizing-the-linear-relationship-between-the-happiness-score-and-various-life-factors" class="section level1" number="3">
<h1 number="3"><span class="header-section-number">3</span> Visualizing the Linear Relationship Between the Happiness Score and Various Life Factors</h1>
<p>I use <code>geom_point</code> and <code>geom_smooth</code> with <code>method=lm</code> to show the strength and direction of the linear relationship between the happiness score and the various life factors.</p>
<p>I add a <code>region</code> column to check how different regions performed. This will help us unearth any important insights. To do so, I map each country to it’s respective continent using <code>countrycode</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>happiness20<span class="op">$</span>region&lt;-<span class="kw">countrycode</span>(<span class="dt">sourcevar =</span> happiness20[[<span class="dv">1</span>]],<span class="dt">origin =</span> <span class="st">&quot;country.name&quot;</span>,<span class="dt">destination =</span> <span class="st">&quot;continent&quot;</span>,<span class="dt">custom_match =</span> <span class="kw">c</span>(<span class="dt">Kosovo=</span><span class="st">&quot;Europe&quot;</span>))</span></code></pre></div>
<p>I had to custom match Kosovo because it wasn’t mapping for some reason</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>a&lt;-<span class="kw">ggplot</span>(happiness20,<span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Logged GDP per capita</span><span class="st">`</span>,<span class="dt">y=</span><span class="st">`</span><span class="dt">Ladder score</span><span class="st">`</span>,<span class="dt">add=</span><span class="st">&quot;reg.line&quot;</span>))<span class="op">+</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size=</span><span class="dv">4</span>,<span class="kw">aes</span>(<span class="dt">colour=</span>region))<span class="op">+</span><span class="kw">theme_fivethirtyeight</span>()<span class="op">+</span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> lm)<span class="op">+</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;GPD per capita&quot;</span>)<span class="op">+</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&quot;bold&quot;</span>,<span class="dt">size =</span> <span class="dv">18</span>),<span class="dt">axis.title.x =</span> <span class="kw">element_blank</span>(),<span class="dt">legend.position =</span> <span class="st">&quot;top&quot;</span>)<span class="op">+</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Happiness score</span><span class="ch">\n</span><span class="st">&quot;</span>)<span class="op">+</span><span class="kw">scale_color_viridis_d</span>(<span class="dt">direction =</span> <span class="dv">-1</span>)<span class="op">+</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="st">  </span><span class="kw">stat_regline_equation</span>(<span class="kw">aes</span>(<span class="dt">label=</span><span class="kw">paste</span>(..adj.rr.label..)),<span class="dt">geom =</span> <span class="st">&quot;label&quot;</span>,<span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>)</span>
<span id="cb6-7"><a href="#cb6-7"></a></span>
<span id="cb6-8"><a href="#cb6-8"></a></span>
<span id="cb6-9"><a href="#cb6-9"></a>b&lt;-<span class="kw">ggplot</span>(happiness20,<span class="kw">aes</span>(<span class="dt">y=</span><span class="st">`</span><span class="dt">Ladder score</span><span class="st">`</span>,<span class="dt">x=</span><span class="st">`</span><span class="dt">Social support</span><span class="st">`</span>))<span class="op">+</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size=</span><span class="dv">3</span>,<span class="kw">aes</span>(<span class="dt">colour=</span>region))<span class="op">+</span><span class="kw">scale_colour_viridis_d</span>(<span class="dt">direction =</span> <span class="dv">-1</span>)<span class="op">+</span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="st">  </span><span class="kw">theme_fivethirtyeight</span>()<span class="op">+</span><span class="kw">geom_smooth</span>(<span class="dt">method=</span>lm)<span class="op">+</span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Social support&quot;</span>)<span class="op">+</span><span class="kw">stat_regline_equation</span>(<span class="kw">aes</span>(<span class="dt">label=</span><span class="kw">paste</span>(..adj.rr.label..)),<span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>,<span class="dt">geom =</span> <span class="st">&quot;label&quot;</span>,)</span>
<span id="cb6-12"><a href="#cb6-12"></a></span>
<span id="cb6-13"><a href="#cb6-13"></a></span>
<span id="cb6-14"><a href="#cb6-14"></a>c&lt;-<span class="kw">ggplot</span>(happiness20,<span class="kw">aes</span>(<span class="dt">y=</span><span class="st">`</span><span class="dt">Ladder score</span><span class="st">`</span>,<span class="dt">x=</span><span class="st">`</span><span class="dt">Healthy life expectancy</span><span class="st">`</span>))<span class="op">+</span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size=</span><span class="dv">3</span>,<span class="kw">aes</span>(<span class="dt">colour=</span><span class="kw">factor</span>(region)))<span class="op">+</span><span class="kw">scale_colour_viridis_d</span>(<span class="dt">direction =</span> <span class="dv">-1</span>)<span class="op">+</span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="st">  </span><span class="kw">theme_fivethirtyeight</span>()<span class="op">+</span><span class="kw">geom_smooth</span>(<span class="dt">method=</span>lm)<span class="op">+</span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Healthy life expectancy&quot;</span>)<span class="op">+</span><span class="kw">stat_regline_equation</span>(<span class="kw">aes</span>(<span class="dt">label=</span><span class="kw">paste</span>(..adj.rr.label..)),<span class="dt">geom =</span> <span class="st">&quot;label&quot;</span>,<span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>)</span>
<span id="cb6-17"><a href="#cb6-17"></a></span>
<span id="cb6-18"><a href="#cb6-18"></a>d&lt;-<span class="kw">ggplot</span>(happiness20,<span class="kw">aes</span>(<span class="dt">y=</span><span class="st">`</span><span class="dt">Ladder score</span><span class="st">`</span>,<span class="dt">x=</span><span class="st">`</span><span class="dt">Freedom to make life choices</span><span class="st">`</span>))<span class="op">+</span></span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size=</span><span class="dv">3</span>,<span class="kw">aes</span>(<span class="dt">colour=</span>region))<span class="op">+</span><span class="kw">scale_colour_viridis_d</span>(<span class="dt">direction =</span> <span class="dv">-1</span>)<span class="op">+</span><span class="kw">theme_fivethirtyeight</span>()<span class="op">+</span></span>
<span id="cb6-20"><a href="#cb6-20"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span>lm)<span class="op">+</span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Freedom to make life choices&quot;</span>)<span class="op">+</span></span>
<span id="cb6-21"><a href="#cb6-21"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&quot;bold&quot;</span>,<span class="dt">size =</span> <span class="dv">18</span>),<span class="dt">axis.title.x =</span> <span class="kw">element_blank</span>())<span class="op">+</span></span>
<span id="cb6-22"><a href="#cb6-22"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Happiness score</span><span class="ch">\n</span><span class="st">&quot;</span>)<span class="op">+</span><span class="kw">stat_regline_equation</span>(<span class="kw">aes</span>(<span class="dt">label=</span><span class="kw">paste</span>(..adj.rr.label..)),<span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>,<span class="dt">geom =</span> <span class="st">&quot;label&quot;</span>,)</span>
<span id="cb6-23"><a href="#cb6-23"></a></span>
<span id="cb6-24"><a href="#cb6-24"></a>e&lt;-<span class="kw">ggplot</span>(happiness20,<span class="kw">aes</span>(<span class="dt">y=</span><span class="st">`</span><span class="dt">Ladder score</span><span class="st">`</span>,<span class="dt">x=</span>Generosity))<span class="op">+</span><span class="kw">geom_point</span>(<span class="dt">size=</span><span class="dv">3</span>,<span class="kw">aes</span>(<span class="dt">colour=</span>region))<span class="op">+</span></span>
<span id="cb6-25"><a href="#cb6-25"></a><span class="st">  </span><span class="kw">scale_colour_viridis_d</span>(<span class="dt">direction =</span> <span class="dv">-1</span>)<span class="op">+</span><span class="kw">theme_fivethirtyeight</span>()<span class="op">+</span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>)<span class="op">+</span></span>
<span id="cb6-26"><a href="#cb6-26"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Generosity&quot;</span>)<span class="op">+</span><span class="kw">stat_regline_equation</span>(<span class="kw">aes</span>(<span class="dt">label=</span><span class="kw">paste</span>(..adj.rr.label..)),<span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>,<span class="dt">geom =</span> <span class="st">&quot;label&quot;</span>,)</span>
<span id="cb6-27"><a href="#cb6-27"></a></span>
<span id="cb6-28"><a href="#cb6-28"></a>f&lt;-<span class="kw">ggplot</span>(happiness20,<span class="kw">aes</span>(<span class="dt">y=</span><span class="st">`</span><span class="dt">Ladder score</span><span class="st">`</span>,<span class="dt">x=</span><span class="st">`</span><span class="dt">Perceptions of corruption</span><span class="st">`</span>))<span class="op">+</span></span>
<span id="cb6-29"><a href="#cb6-29"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size=</span><span class="dv">3</span>,<span class="kw">aes</span>(<span class="dt">colour=</span>region))<span class="op">+</span><span class="kw">scale_colour_viridis_d</span>(<span class="dt">direction =</span> <span class="dv">-1</span>)<span class="op">+</span></span>
<span id="cb6-30"><a href="#cb6-30"></a><span class="st">  </span><span class="kw">theme_fivethirtyeight</span>()<span class="op">+</span><span class="kw">geom_smooth</span>(<span class="dt">method=</span>lm)<span class="op">+</span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Perceptions of corruption&quot;</span>)<span class="op">+</span><span class="kw">stat_regline_equation</span>(<span class="kw">aes</span>(<span class="dt">label=</span><span class="kw">paste</span>(..adj.rr.label..)),<span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>,<span class="dt">geom =</span> <span class="st">&quot;label&quot;</span>,)</span>
<span id="cb6-31"><a href="#cb6-31"></a></span>
<span id="cb6-32"><a href="#cb6-32"></a></span>
<span id="cb6-33"><a href="#cb6-33"></a>g&lt;-<span class="kw">ggarrange</span>(a,b,c,d,e,f,<span class="dt">ncol=</span><span class="dv">3</span>,<span class="dt">nrow=</span><span class="dv">2</span>,<span class="dt">common.legend =</span> <span class="ot">TRUE</span>,<span class="dt">legend =</span> <span class="st">&quot;top&quot;</span>)</span>
<span id="cb6-34"><a href="#cb6-34"></a></span>
<span id="cb6-35"><a href="#cb6-35"></a><span class="kw">annotate_figure</span>(g,<span class="dt">top=</span><span class="kw">text_grob</span>(<span class="st">&quot;Linear relationship between happiness and various life factors &quot;</span>,<span class="dt">face =</span><span class="st">&quot;bold&quot;</span>,<span class="dt">family=</span><span class="st">&quot;sans&quot;</span>,<span class="dt">size=</span><span class="dv">25</span>,<span class="dt">color =</span><span class="st">&quot;black&quot;</span> ),<span class="dt">bottom=</span><span class="kw">text_grob</span>(<span class="st">&quot;The world happiness report is an annual publication of the United Nations Sustainable Development Solutions Network. It contains articles </span><span class="ch">\n</span><span class="st"> and rankings of national happiness based on respondent ratings of their own lives, which the report also correlates with various life factors.</span><span class="ch">\n</span><span class="st"> Source:Our World in Data </span><span class="ch">\n</span><span class="st"> Github:@joanweru&quot;</span>,<span class="dt">hjust=</span><span class="dv">1</span>,<span class="dt">x=</span><span class="dv">1</span>,<span class="dt">color =</span> <span class="st">&quot;#3C3C3C&quot;</span>,<span class="dt">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<p><img src="happiness20_files/figure-html/unnamed-chunk-8-1.png" width="3000" style="display: block; margin: auto;" /></p>
</div>
<div id="visualizing-the-top-ten-happiest-countries-and-top-ten-worst-countries" class="section level1" number="4">
<h1 number="4"><span class="header-section-number">4</span> Visualizing the Top Ten Happiest Countries and Top Ten Worst Countries</h1>
<p>We use <code>geom_flag</code> for to visualize the countries alongside their individual flags</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>happiness20<span class="op">$</span>iso&lt;-<span class="kw">countrycode</span>(<span class="dt">sourcevar =</span> happiness20[[<span class="dv">1</span>]],<span class="dt">origin =</span> <span class="st">&quot;country.name&quot;</span>,<span class="dt">destination =</span> <span class="st">&quot;iso2c&quot;</span>,<span class="dt">custom_match =</span> <span class="kw">c</span>(<span class="dt">Kosovo=</span><span class="st">&quot;Europe&quot;</span>))</span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a>happiness20_arranged&lt;-<span class="kw">arrange</span>(happiness20,<span class="kw">desc</span>(<span class="st">`</span><span class="dt">Ladder score</span><span class="st">`</span>))</span>
<span id="cb7-4"><a href="#cb7-4"></a>top&lt;-<span class="kw">head</span>(happiness20_arranged,<span class="dv">10</span>) <span class="co">#countries with highest happiness score</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>bottom&lt;-<span class="kw">tail</span>(happiness20_arranged,<span class="dv">10</span>) <span class="co">#countries with lowest happiness score</span></span>
<span id="cb7-6"><a href="#cb7-6"></a></span>
<span id="cb7-7"><a href="#cb7-7"></a></span>
<span id="cb7-8"><a href="#cb7-8"></a>top<span class="op">%&gt;%</span><span class="kw">mutate</span>(<span class="dt">code=</span><span class="kw">tolower</span>(iso))<span class="op">%&gt;%</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">reorder</span>(<span class="st">`</span><span class="dt">Country name</span><span class="st">`</span>,<span class="op">-</span><span class="st">`</span><span class="dt">Ladder score</span><span class="st">`</span>),<span class="dt">y=</span><span class="st">`</span><span class="dt">Ladder score</span><span class="st">`</span>,<span class="dt">fill=</span>region))<span class="op">+</span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">fill=</span><span class="st">&quot;#CC9900&quot;</span>)<span class="op">+</span><span class="kw">theme_fivethirtyeight</span>()<span class="op">+</span><span class="kw">geom_flag</span>(<span class="dt">y=</span><span class="dv">0</span>,<span class="kw">aes</span>(<span class="dt">country=</span>code),<span class="dt">size=</span><span class="dv">14</span>)<span class="op">+</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;World&#39;s happiest countries, 2020&quot;</span>,<span class="dt">subtitle =</span><span class="st">&quot;The world happiness report is an annual publication of the United Nations Sustainable Development  Solutions Network.</span><span class="ch">\n</span><span class="st"> It contains articles, and rankings of national happiness based  on respondent ratings of their own lives, which the report </span><span class="ch">\n</span><span class="st"> also correlates with various life factors.&quot;</span>,<span class="dt">caption =</span> <span class="st">&quot;Source:Our World in Data </span><span class="ch">\n</span><span class="st"> Github:@joanweru&quot;</span>)<span class="op">+</span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">20</span>),<span class="dt">plot.subtitle =</span> <span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<p><img src="happiness20_files/figure-html/unnamed-chunk-9-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>bottom<span class="op">%&gt;%</span><span class="kw">mutate</span>(<span class="dt">code=</span><span class="kw">tolower</span>(iso))<span class="op">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">reorder</span>(<span class="st">`</span><span class="dt">Country name</span><span class="st">`</span>,<span class="st">`</span><span class="dt">Ladder score</span><span class="st">`</span>),<span class="dt">y=</span><span class="st">`</span><span class="dt">Ladder score</span><span class="st">`</span>,<span class="dt">fill=</span>region))<span class="op">+</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">fill=</span><span class="st">&quot;#339999&quot;</span>)<span class="op">+</span><span class="kw">scale_fill_viridis_d</span>()<span class="op">+</span><span class="kw">theme_fivethirtyeight</span>()<span class="op">+</span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="st">  </span><span class="kw">geom_flag</span>(<span class="dt">y=</span><span class="dv">0</span>,<span class="kw">aes</span>(<span class="dt">country=</span>code),<span class="dt">size=</span><span class="dv">14</span>)<span class="op">+</span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;World&#39;s unhappiest countries, 2020&quot;</span>,<span class="dt">subtitle =</span><span class="st">&quot;The world happiness report is an annual publication of the United Nations Sustainable Development Solutions Network.</span><span class="ch">\n</span><span class="st"> It contains articles  and rankings of national happiness based  on respondent ratings of their own lives, which the report</span><span class="ch">\n</span><span class="st"> also correlates with various life factors.&quot;</span>,<span class="dt">caption =</span> <span class="st">&quot;Source:Our World in Data </span><span class="ch">\n</span><span class="st"> Github:@joanweru &quot;</span>)<span class="op">+</span></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">20</span>),<span class="dt">plot.subtitle =</span> <span class="kw">element_text</span>(<span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<p><img src="happiness20_files/figure-html/unnamed-chunk-9-2.png" width="\textwidth" style="display: block; margin: auto;" /></p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
